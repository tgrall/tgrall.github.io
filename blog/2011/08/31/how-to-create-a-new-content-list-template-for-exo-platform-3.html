<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Tug&#39;s Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Tug&#39;s Site Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-1520374-2","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">How to create a new Content List Template for eXo Platform 3 | Tug&#x27;s Site</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://tgrall.github.io/blog/2011/08/31/how-to-create-a-new-content-list-template-for-exo-platform-3"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="How to create a new Content List Template for eXo Platform 3 | Tug&#x27;s Site"><meta data-react-helmet="true" name="description" content="Introduction"><meta data-react-helmet="true" property="og:description" content="Introduction"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2011-08-31T00:00:00.000Z"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://tgrall.github.io/blog/2011/08/31/how-to-create-a-new-content-list-template-for-exo-platform-3"><link data-react-helmet="true" rel="alternate" href="https://tgrall.github.io/blog/2011/08/31/how-to-create-a-new-content-list-template-for-exo-platform-3" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://tgrall.github.io/blog/2011/08/31/how-to-create-a-new-content-list-template-for-exo-platform-3" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.acbe81c6.css">
<link rel="preload" href="/assets/js/runtime~main.69db4c69.js" as="script">
<link rel="preload" href="/assets/js/main.f5c6966c.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Tug&#x27;s Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/talks">Talks</a></div><div class="navbar__items navbar__items--right"><a href="https://windr.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Windsurfing App<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/tgrall/tgrall.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2020/05/16/simple-caching-service-with-redis">Simple caching service with Redis</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2020/01/02/how-to-use-ssl-slash-tls-with-redis-enterprise">How to use SSL/TLS with Redis Enterprise</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2019/09/19/redis-rolling-upgrade-on-pivotal-cloud-foundry-pcf">Redis Rolling Upgrade on Pivotal Cloud Foundry (PCF)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2019/09/04/multi-nodes-redis-cluster-with-docker">Multi-Nodes Redis Cluster with Docker</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2019/09/02/getting-with-redis-streams-and-java">Getting Started with Redis Streams and Java</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_GeHD" itemprop="headline">How to create a new Content List Template for eXo Platform 3</h1><div class="blogPostData_291c margin-vert--md"><time datetime="2011-08-31T00:00:00.000Z" itemprop="datePublished">August 31, 2011</time> Â· 9 min read</div></header><div class="markdown" itemprop="articleBody"><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h3><p>eXo Platform provide many powerful features to manipulate and expose any type of content on a page. This is due to the fact that eXo stores the all the content in its Java Content Repository (JCR) and render the content on a page using Groovy Templates.</p><p>In this how to you will learn how you can create and use template that are used in the &quot;Content List&quot; portlet. For example in the ACME sample site you can show the content in 1 or 2 columns just by selecting different templates.</p><p><img src="http://2.bp.blogspot.com/-aEn1Gp75nD4/TbbALBRftVI/AAAAAAAAAPc/3JLHePfFkuM/s200/one-col-view.png">
One Column View</p><p><img src="http://4.bp.blogspot.com/-xSn44HNlBZ8/TbbAMSRDq7I/AAAAAAAAAPg/YEu715pX3WE/s200/two-col-view.png">
Two Columns View</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="creating-a-new-content-list-template"></a>Creating a new Content List Template<a class="hash-link" href="#creating-a-new-content-list-template" title="Direct link to heading">#</a></h3><p>In this section you will learn how to create a new template using the eXo IDE. Before writing the new template it is important to learn where the templates are stored.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="exo-content-service-template-storage"></a>eXo Content Service: Template Storage<a class="hash-link" href="#exo-content-service-template-storage" title="Direct link to heading">#</a></h4><p>Like many things inside eXo Platform, the eXo JCR is used to stored the templates. Templates are just a special type of content. This allows developers to easily write and test code without having complex deployment process, but also it make the life easy to export a running configuration to another one. For this you just need to use the standard JCR export/import features.</p><p>All the template and eXo Content Service configurations are stored inside a specific JCR workspace named : <code>dms-system</code>.</p><p>Each template type (Document Type, Content List, ....) is stored in a specific location. In our case we want to work on the &quot;Content List&quot; portlet so the template are stored inside the following folder:</p><ul><li><code>/exo:ecm/views/templates/content-list-viewer/list/</code></li></ul><p>Just for the fun of it, let&#x27;s inspect this folder using the eXo CRaSH utility. If you are not interested you can jump to the next section. CRaSH is a shell for Java Content Repositories, the source of CRaSH is available on <a href="http://code.google.com/p/crsh/" target="_blank" rel="noopener noreferrer">Google Code</a>. So in a terminal window:</p><p>1-  Connect to CRaSH using telnet client:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain"> telnet 127.0.0.1 5000</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>2-  Connect to the JCR workspace using the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain"> connect -u root -p gtn -c portal dms-system</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Where: -u is the user, -p the password, -c the Portal Container, and dms-system the workspace to use</p><p>3-  Move the the folder that contains all the templates for the Content List portlet:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain"> cd /exo:ecm/views/templates/content-list-viewer/list/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>4-  List all the templates using the <code>ls</code> command
You can see the list of all the templates available for the Content List portlet.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="create-a-new-template-using-the-exo-ide"></a>Create a new template using the eXo IDE<a class="hash-link" href="#create-a-new-template-using-the-exo-ide" title="Direct link to heading">#</a></h4><p>Let&#x27;s now create a new template using the IDE. For this be sure you are connected with a user that is part of the <code>/Developer</code> group. For simplicity reason I am using the <code>root</code> user.</p><p>The first important step is to go the the template location using the following steps:</p><p>1-  Access the IDE: click on <code>My Spaces &amp;gt; IDE</code>.</p><p>2-  Switch <code>dms-system</code> workspace: In the IDE menu click <code>My Spaces &amp;gt;on Window &amp;gt; Select Workspace</code>. And select the dms-system location in the dialog box and click OK.</p><p>3-  In the file structure on the left navigate to the template location :</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly sh"><pre tabindex="0" class="prism-code language-sh codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">/exo:ecm/views/templates/content-list-viewer/list/</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>4-  Create a new template : In the IDE Menu click on <code>File &amp;gt; New &amp;gt; Groovy Template</code></p><p>5-  Save the file as &quot;<code>MyNewTemplate.gtmpl</code>&quot;</p><p>6-  Enter some basic code:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly html"><pre tabindex="0" class="prism-code language-html codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">This is my template</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">h1</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">The date is &lt;= new Date()&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>7-  Save the template</p><p>8-  Go back to the Home page of the Acme Site</p><p>9-  Switch to Edit more by selecting Edit in the top right drop down list.</p><p><img src="http://3.bp.blogspot.com/-EsSUDUdUo_8/TbbRJZlZlHI/AAAAAAAAAPk/5iTn-NoC-JE/s200/edit-mode.png"></p><p>10-  Move you mouse at the top of the list of news and click on the preference button: <img src="http://1.bp.blogspot.com/-ksljDe3llf4/TbbSIOl0DII/AAAAAAAAAPs/C0eBv-SJ25I/s200/PreferencesIcon.png"></p><p>11-  In the list of templates, select the &quot;MyNewTemplate&quot;, and click save.</p><p><img src="http://2.bp.blogspot.com/-7hT5osGXK1w/TbbTTJ7ZKSI/AAAAAAAAAP0/--VCTefhrSI/s320/select-template.png"></p><p>We have created our new template, and use it on a page. We should now add some more interesting code to the template to really loop over the content based on the portlet configuration. But before this it is important to talk about caching and code modification.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="exo-template-and-cache"></a>eXo Template and Cache<a class="hash-link" href="#exo-template-and-cache" title="Direct link to heading">#</a></h4><p>To improve performances and a running system, the compiled version of the template is by default cached. This is why when you are modifying a template you do not see any change. We have two ways to work around this:</p><ul><li>Run eXo Platform in Debug mode, in this case nothing is cached</li><li>Invalidate the cache manually using JMX</li></ul><p>Since working with no cache at all is not an option, here is the MBean you have to use to invalidate the Template Service cache:</p><ul><li><code>exo:portal=&quot;portal&quot;,service=cache,name=&quot;TemplateService&quot;</code>, then call the <code>clearCache</code> operation on it</li></ul><p>I do use JConsole for this, but you can use any method to call your MBeans operation.</p><p><img src="http://1.bp.blogspot.com/-ZuMQz-VHBYY/TbldhSRY2NI/AAAAAAAAAP8/pb09UoA9_b4/s200/TemplateServiceCacheMbean.png"></p><p>Do not forget to call this operation each time you modify your template to be sure eXo recompile the template.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="accessing-content-in-the-template"></a>Accessing Content in the template<a class="hash-link" href="#accessing-content-in-the-template" title="Direct link to heading">#</a></h4><p>The current code of the template is really simple, you need now to add code to print the content in the page. For this we will be using some eXo Content programming, once again in the IDE.</p><p>If you are not interested to have detailed explanation of the code you can go to the complete source code [here](javascript: alert().</p><p>The template used by the Content List portlet is based on the following Java class <code>org.exoplatform.wcm.webui.clv.UICLVPresentation</code>, this class is responsible to set the complete context that you can use in the template such as:</p><ul><li>The folder or category that contains the content to show. The &quot;Folder Path&quot; field in the preference screen</li><li>The display settings: title, number of documents, elements to show, ...</li></ul><p>Here is the code to access these preferences:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly groovy"><pre tabindex="0" class="prism-code language-groovy codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// import all the classes need in the template</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import javax.jcr.Node;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.exoplatform.wcm.webui.paginator.UICustomizeablePaginator;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.exoplatform.wcm.webui.clv.UICLVPortlet;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.exoplatform.wcm.webui.Utils;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import org.exoplatform.services.wcm.core.NodeLocation;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// get the portlet preferences</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def header = uicomponent.getHeader();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def isShowRssLink = uicomponent.isShowRssLink();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def isShowHeader = uicomponent.isShowField(UICLVPortlet.PREFERENCE_SHOW_HEADER);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def isShowRefresh = uicomponent.isShowField(UICLVPortlet.PREFERENCE_SHOW_REFRESH_BUTTON);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def isShowTitle = uicomponent.isShowField(UICLVPortlet.PREFERENCE_SHOW_TITLE);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def isShowDate = uicomponent.isShowField(UICLVPortlet.PREFERENCE_SHOW_DATE_CREATED);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def isShowLink = uicomponent.isShowField(UICLVPortlet.PREFERENCE_SHOW_LINK);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def isShowReadmore = uicomponent.isShowField(UICLVPortlet.PREFERENCE_SHOW_READMORE);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def isShowImage = uicomponent.isShowField(UICLVPortlet.PREFERENCE_SHOW_ILLUSTRATION) ;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def isShowSummary = uicomponent.isShowField(UICLVPortlet.PREFERENCE_SHOW_SUMMARY);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The <code>uicomponent</code> object is defined by the container class of the portlet that calls the template. This class contains many utility methods. In the code above I retrieve all the preferences of the portlet, since the name are self-explanatory it is not necessary to detail them, especially when you look at the preferences screen below:</p><p><img src="http://3.bp.blogspot.com/-bDIJtSVaD9A/TblkjTr2wMI/AAAAAAAAAQE/6mRLmEYqpsE/s320/preference-screen.png"></p><p>Now that the template has all the preferences, it is time to loop on the content on print the information.</p><p>The eXo Content Service provides API to manipulate the content, including pagination of content. The idea behind this is to let the Content Service manage the JCR query, sorting, caching and pagination of data. So in your template you will mainly manage two classes to loop through the content to show:</p><ul><li><code>uicomponent.getUIPageIterator()</code> a paginator object that is configured based on the portlet preferences</li><li><code>uicomponent.getCurrentPageData()</code>contains a list of the content (JCR Nodes) that should print on the current page</li></ul><p>So let&#x27;s print all the content of the page as a simple HTML list:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly html"><pre tabindex="0" class="prism-code language-html codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag" style="color:#00009f"> </span><span class="token tag style-attr attr-name" style="color:#00a4db">style</span><span class="token tag style-attr attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag style-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag style-attr attr-value style language-css property" style="color:#36acaa">margin</span><span class="token tag style-attr attr-value style language-css punctuation" style="color:#393A34">:</span><span class="token tag style-attr attr-value style language-css" style="color:#e3116c"> </span><span class="token tag style-attr attr-value style language-css number" style="color:#36acaa">20</span><span class="token tag style-attr attr-value style language-css unit" style="color:#e3116c">px</span><span class="token tag style-attr attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">&lt;%</span></span><span class="token-line" style="color:#393A34"><span class="token plain">for (viewNode in uicomponent.getCurrentPageData()) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def title = viewNode.getProperty(&quot;exo:title&quot;).getString();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  print(&quot;</span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">$title</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">li</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">%&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">ul</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Just  copy this code in your template, save it, refresh the cache... and go to your page. You should see the list of the content in a simple HTML list.</p><p>On each content (Node), eXo Content API provides some helper method to easily manipulate the content and avoid using the JCR API directly. In the following code you can see the most important methods accessing content properties:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">def itemName = viewNode.getName();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def itemLink = uicomponent.getURL(viewNode);  </span></span><span class="token-line" style="color:#393A34"><span class="token plain">def webdDavLink = uicomponent.getWebdavURL(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def itemDateCreated = uicomponent.getCreatedDate(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def itemModifiedDate = uicomponent.getModifiedDate(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def itemAuthor = uicomponent.getAuthor(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def imgSrc = uicomponent.getIllustrativeImage(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def itemTitle = uicomponent.getTitle(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">def itemSummary = uicomponent.getSummary(viewNode);</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>One important point is the fact that these methods are responsible of many things, for example: formatting dates, returning complete URLs depending of the context of the portlet.</p><p>Based on these methods you can now work on the presentation of the information on the page. Let&#x27;s for example print the image, the title and allow user to click on the title to go in the detail view of the article. This is done simply using the following code:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;%</span></span><span class="token-line" style="color:#393A34"><span class="token plain">for (viewNode in uicomponent.getCurrentPageData()) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemName = viewNode.getName();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemLink = uicomponent.getURL(viewNode);  </span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def webdDavLink = uicomponent.getWebdavURL(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemDateCreated = uicomponent.getCreatedDate(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemModifiedDate = uicomponent.getModifiedDate(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemAuthor = uicomponent.getAuthor(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def imgSrc = uicomponent.getIllustrativeImage(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemTitle = uicomponent.getTitle(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemSummary = uicomponent.getSummary(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  %&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div style=&quot;overflow: auto;&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;img src=&quot;$imgSrc&quot; align=&quot;left&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;h3&gt;&lt;a href=&quot;$itemLink&quot;&gt;$itemTitle&lt;/a&gt;&lt;/h3&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  $itemSummary</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;%</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">%&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>For simplicity reason, this code does not manage any null value. Also the template do not deal with the portlet preferences such as the &quot;Header&quot;, &quot;RSS&quot; links and so on, do not hesitate to do it if you want.</p><p>The Web site should look like the following image:</p><p><img src="http://3.bp.blogspot.com/-JvoTBERVTH0/Tbmf9tYRcUI/AAAAAAAAAQM/sdUy2gs39ks/s320/new-site-001.png"></p><p>The last important point is to add the support for the in context editing that allows the user to edit the content directly from the template. Once again this is done with a method of the <code>uicomponent</code> object, that create a DIV around the content. Let&#x27;s add this to the template:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">&lt;%</span></span><span class="token-line" style="color:#393A34"><span class="token plain">for (viewNode in uicomponent.getCurrentPageData()) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemName = viewNode.getName();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemLink = uicomponent.getURL(viewNode);  </span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def webdDavLink = uicomponent.getWebdavURL(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemDateCreated = uicomponent.getCreatedDate(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemModifiedDate = uicomponent.getModifiedDate(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemAuthor = uicomponent.getAuthor(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def imgSrc = uicomponent.getIllustrativeImage(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemTitle = uicomponent.getTitle(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  def itemSummary = uicomponent.getSummary(viewNode);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  %&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;div style=&quot;overflow: auto;&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;%=uicomponent.addQuickEditDiv(&quot;MyTemplateContentEditor&quot;, viewNode)%&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;img src=&quot;$imgSrc&quot; align=&quot;left&quot;&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;h3&gt;&lt;a href=&quot;$itemLink&quot;&gt;$itemTitle&lt;/a&gt;&lt;/h3&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  $itemSummary</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt; /div&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;/div&gt;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  &lt;%</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">%&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The lines 15 and 19 are new in this template and provide support for Quick Edit feature.</p><p>Done! We have created a new template for eXo Platform Content Service using embedded IDE.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="conclusion"></a>Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h4><p>In this article you have learned how to create a new template for eXo Content Service, with some basic steps:</p><ul><li>Create a new Groovy Template using the eXo IDE</li><li>Edit this template using the eXo Java Content API</li><li>Configure your Content List portlet instance on a page to select the new template</li></ul><p>You can now create your own templates and use your imagination to add cool features to your site (for example the carrousels you see on the <a href="http://www.exoplatform.com/" target="_blank" rel="noopener noreferrer">eXo site</a> are using custom CLV template.)</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2011/09/02/jax-rs-jersey-and-json-single-element-arrays"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« JAX-RS: Jersey and JSON single element arrays</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2011/04/11/how-to-protect-your-rest-service-and-gadget-in-exo-platform"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">How to protect your REST service and Gadget in eXo Platform Â»</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link">Introduction</a></li><li><a href="#creating-a-new-content-list-template" class="table-of-contents__link">Creating a new Content List Template</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/tgrall" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/tugdualgrall/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.instagram.com/tgrall/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Instagram<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/tgrall" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2003 - 2021 Tugdual Grall built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.69db4c69.js"></script>
<script src="/assets/js/main.f5c6966c.js"></script>
</body>
</html>