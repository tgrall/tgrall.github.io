<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Tug&#39;s Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Tug&#39;s Site Blog Atom Feed"><title data-react-helmet="true">Blog | Tug&#x27;s Site</title><meta data-react-helmet="true" property="og:title" content="Blog | Tug&#x27;s Site"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="description" content="Blog"><meta data-react-helmet="true" property="og:description" content="Blog"><meta data-react-helmet="true" property="og:url" content="https://tgrall.github.io/blog/page/15"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="blog_posts_list"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://tgrall.github.io/blog/page/15"><link data-react-helmet="true" rel="alternate" href="https://tgrall.github.io/blog/page/15" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://tgrall.github.io/blog/page/15" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.acbe81c6.css">
<link rel="preload" href="/assets/js/runtime~main.69db4c69.js" as="script">
<link rel="preload" href="/assets/js/main.174aeacd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Tug&#x27;s Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/talks">Talks</a></div><div class="navbar__items navbar__items--right"><a href="https://windr.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Windsurfing App<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/tgrall/tgrall.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-list-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2020/05/16/simple-caching-service-with-redis">Simple caching service with Redis</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2020/01/02/how-to-use-ssl-slash-tls-with-redis-enterprise">How to use SSL/TLS with Redis Enterprise</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2019/09/19/redis-rolling-upgrade-on-pivotal-cloud-foundry-pcf">Redis Rolling Upgrade on Pivotal Cloud Foundry (PCF)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2019/09/04/multi-nodes-redis-cluster-with-docker">Multi-Nodes Redis Cluster with Docker</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2019/09/02/getting-with-redis-streams-and-java">Getting Started with Redis Streams and Java</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2006/11/28/oc4j-sending-system-level-message-in-the-console-window">OC4J: Sending system level message in the console window</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2006-11-28T00:00:00.000Z" itemprop="datePublished">November 28, 2006</time> Â· 2 min read</div></header><div class="markdown" itemprop="articleBody"><p>OracleAS 10gR3, so OC4J standalone, is using the standard <a href="http://java.sun.com/j2se/1.4.2/docs/guide/util/logging/overview.html" target="_blank" rel="noopener noreferrer">Java logging framework</a>. Some of the
benefits are easy configuration, and extensibility. The configuration of the level of logging of the different loggers has been exposes in
the Oracle Application Server Console. To see the logger configuration, click on the Administration Tab and then Logger Configuration, you can then configure the different loggers.</p><p><img src="http://static.flickr.com/106/304730770_8db9728d3a_o.png"></p><p>By default the logger will write all the information in the default log.xml file, and for application lever logger it will go in the application.log. You may want to send the information in the console during development to debug/analyze your application. This is done using the configuration of the Handler. This information is currently not available in the Application Server Console, so I am documenting in the next steps how
to send the information in the console (terminal window).</p><p>The configuration of the OracleAS Logging is saved in the <code>$ORACLE_HOME/j2ee/home/config/j2ee-logging.xml</code> file. In this file you  can see that Oracle has defined
various handlers where information can be sent:</p><ul><li><code>console-handler</code> : Log the information in the console (the one we want to use in this sample)</li><li><code>oc4j-handler</code> : the default handler for most of the loggers, saving the information in the $ORACLE_HOME/j2ee/home/log/oc4j/log.xml using the Oracle Logger formatting</li><li><code>oracle-webservices-management-auditing-handler</code> : the handler used by the Web Services Auditing feature in the $ORACLE_HOME/j2ee/home/log/wsmgmt/auditing/log.xml</li><li><code>oracle-webservices-management-logging-handler</code> : the handler used by the Web Service Logging feature in the $ORACLE_HOME/j2ee/home/log/wsmgmt/logging/log.xml</li></ul><p>As you may know, OracleAS Web Service provides out of the box support for Auditing of the SOAP messages. You just need to go in the administration page of the Web Service and enable the auditing. By default the messages are logged in the auditing log pointed above. But during development it is really interesting to see the SOAP Messages in the console without having to configure a Proxy to capture the request/response. The easiest way to do that is to edit the <code>j2ee-logging.xml</code> file and associate the <code>console-handler</code> to the auditing logger using the following configuration:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">logger</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">oracle.webservices.management.auditing</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">level</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">NOTIFICATION:1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">useParentHandlers</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">false</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">handler</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">oracle-webservices-management-auditing-handler</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">handler</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">console-handler</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">logger</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>by doing this you will see the SOAP Message in the OC4J console that is running in your system.</p><p><img src="http://static.flickr.com/103/308538842_ed574a1c08_o.png"></p><p>You can also use this configuration with any loggers available in OC4J.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2006/11/20/download-the-the-oracle-technology-network-otn-greatest-hits">Download the The Oracle Technology Network (OTN) &#x27;Greatest Hits&#x27;</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2006-11-20T00:00:00.000Z" itemprop="datePublished">November 20, 2006</time> Â· One min read</div></header><div class="markdown" itemprop="articleBody"><p>The Oracle Technology Network (OTN) &quot;Greatest Hits&quot; is a compilation of the most popular technical articles, software downloads, podcasts, sample code, and documentation, we&#x27;ve published in a given 12-month period. The compilation provides you with convenient access to the &quot;best&quot; of OTN as well as an insight into the interests of the Oracle developer and DBA communities.</p><ul><li><a href="http://www.oracle.com/technology/community/greatest-hits.html" target="_blank" rel="noopener noreferrer">Oracle Technology Network (OTN) &quot;Greatest Hits&quot; page</a>.</li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2006/11/13/ibm-article-jax-rpc-vs-jax-ws">IBM article:  JAX-RPC vs JAX-WS</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2006-11-13T00:00:00.000Z" itemprop="datePublished">November 13, 2006</time> Â· One min read</div></header><div class="markdown" itemprop="articleBody"><p>I was discussing with a customer not familiar with the JAX-WS standard. I was writing him a mail explaining the difference when I found this nice article on the IBM DeveloperWorks library:</p><ul><li>[Web services hints and tips: JAX-RPC vs JAX-WS](<a href="http://www-128.ibm.com/developerworks/webservices/library/ws-tip-jaxwsrpc.html" target="_blank" rel="noopener noreferrer">http://www-128.ibm.com/developerworks/webservices/library/ws-tip-jaxwsrpc.html</a> target=)</li></ul><p>It is an opportunity for me to remind OracleAS users that the 10.1.3.1 stack in addition to the JAX-RPC support also provides support for:</p><ul><li>Attachments with MTOM, Soap with Attachment and DIME</li><li>Annotations based development (JSR-181) that is part of JAX-WS</li><li>WS-Security and WS-Reliability</li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2006/10/13/jdeveloper-what-are-my-system-properties">JDeveloper: What are my System Properties?</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2006-10-13T00:00:00.000Z" itemprop="datePublished">October 13, 2006</time> Â· One min read</div></header><div class="markdown" itemprop="articleBody"><p>I have been using JDeveloper
for many years, since the first release ;-). But I&#x27;ve never payed
attention to a simple and very useful feature. When you click the Help
&gt; About menu you can access all the System properties of the
Java VM used by Jdeveloper  by clicking on the Properties tab</p><p>![]( <a href="http://static.flickr.com/109/268402753_19bd74c01b_o.png" target="_blank" rel="noopener noreferrer">http://static.flickr.com/109/268402753_19bd74c01b_o.png</a>  JDeveloper System Property Viewer )</p><p>Thanks to Gerard for the tip....</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2006/10/13/using-https-with-web-services">Using HTTPS with Web Services</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2006-10-13T00:00:00.000Z" itemprop="datePublished">October 13, 2006</time> Â· 4 min read</div></header><div class="markdown" itemprop="articleBody"><p><em>Prerequisites:</em></p><p>In this article you have</p><ul><li>already a Web Service deployed in OC4J that is running on the default HTTP port. The WSDL and Endpoint are available. In my sample
the non secure Web Service endpoint is: <code>http://127.0.0.1:8888/math-service/MathServiceSoapHttpPort</code></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="add-https-to-oc4j"></a>Add HTTPS to OC4J<a class="hash-link" href="#add-https-to-oc4j" title="Direct link to heading">#</a></h4><h5><a aria-hidden="true" tabindex="-1" class="anchor anchor__h5 anchorWithStickyNavbar_31ik" id="creating-of-the-keystore"></a>Creating of the Keystore<a class="hash-link" href="#creating-of-the-keystore" title="Direct link to heading">#</a></h5><p>The first thing to do to secure OC4J would be to create a new keystore
that will contain the different certificates. The easiest way to do
that for a Java developer is to use <a href="http://java.sun.com/j2se/1.5.0/docs/tooldocs/solaris/keytool.html" target="_blank" rel="noopener noreferrer">SUN&#x27;s keytool</a>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">keytool -genkey -alias oracle-server -dname &quot;CN=Tug Grall, OU=Blog O=Grall And Co L=Redwood Shores, S=CA, C=US&quot; -keyalg RSA -keypass welcome -storepass welcome -keystore server.keystore</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can copy the <code>server.keystore</code> into the <code>$ORACLE_HOME/j2ee/home/config</code> to simplify the next steps.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="configuring-oc4j"></a>Configuring OC4J<a class="hash-link" href="#configuring-oc4j" title="Direct link to heading">#</a></h4><p>OC4J stand alone is using the notion of Web-Site to expose HTTP resources (Web Applications). The default-web-site is define is he
<code>$ORACLE_HOME/j2ee/home/config/default-web-site.xml</code>. To secure an OC4J you can follow the steps describe in the <a href="http://download.oracle.com/docs/cd/B25221_04/web.1013/b14429/configssl.htm" target="_blank" rel="noopener noreferrer">OC4J Security guide</a> that I have summarized in the following section.</p><p>What we want to achieve for the purpose of the demonstration is to have OC4J using HTTP and HTTPS, on port 8888 and 4443 for example.</p><ol><li>Copy <code>default-web-site.xml</code> to <code>secure-web-site.xml</code></li><li>Edit the secure-web-site.xml:<ul><li>Change the <code>web-site</code> tag by changing the port to <code>4443</code> and adding the element <code>secure=&quot;true&quot;</code></li><li>Add the <code>ssl-config</code> element and point this to the new created keystore.</li></ul></li></ol><p>The file looks like:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">web-site</span><span class="token tag" style="color:#00009f">   </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xmlns:</span><span class="token tag attr-name" style="color:#00a4db">xsi</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://www.w3.org/2001/XMLSchema-instance</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name namespace" style="color:#00a4db;opacity:0.7">xsi:</span><span class="token tag attr-name" style="color:#00a4db">noNamespaceSchemaLocation</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">http://xmlns.oracle.com/oracleas/schema/web-site-10_0.xsd</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">port</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">4443</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">secure</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">display-name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">OC4J 10g (10.1.3) Default Web Site</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">schema-major-version</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">10</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"></span></span><span class="token-line" style="color:#393A34"><span class="token tag" style="color:#00009f">  </span><span class="token tag attr-name" style="color:#00a4db">schema-minor-version</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">0</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">ssl-config</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">keystore</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">server.keystore</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">keystore-password</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">welcome</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">web-site</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="3"><li>Import the new Web site in your OC4J instance by editing the <code>$ORACLE_HOME/j2ee/home/server.xml</code>
file. You need to add or replace the web-site tag. In my case I want to
add the secure web site to my instance so the configuration looks like:</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly xml"><pre tabindex="0" class="prism-code language-xml codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">web-site</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">default</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">true</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">path</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">./default-web-site.xml</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">web-site</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">path</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">./secure-web-site.xml</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Since we have copied the file from the default-web-site, all applications are available using HTTP and HTTPS</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="start-oc4j-and-test-the-https-port"></a>Start OC4J and test the HTTPS port<a class="hash-link" href="#start-oc4j-and-test-the-https-port" title="Direct link to heading">#</a></h4><p>Start OC4J using the standard Java command or shell script, I am adding the Java Network debug flag that would help you to see what is
happening at the SSL level.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">java -Djavax.net.debug=ssl -jar oc4j.jar</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You should be able to access the service WSDL using the HTTPS port for example in my case:</p><ul><li><code>https://127.0.0.1:4443/math-service/MathServiceSoapHttpPort?WSDL</code></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="consuming-the-service-using-https"></a>Consuming the Service using HTTPS<a class="hash-link" href="#consuming-the-service-using-https" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="generate-and-configure-a-client-keystore"></a>Generate and configure a client Keystore<a class="hash-link" href="#generate-and-configure-a-client-keystore" title="Direct link to heading">#</a></h4><p>Event if this is possible to use the same keystore for the server and the client, I will guide you in the steps to create a client
certificate and import the certificate from the existing -server- one.</p><p>Here the command <em>to create</em> a new keystore:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">keytool -genkey -alias oracle-client -dname &quot;CN=John Doe, OU=Blog O=MyDummyClient, S=CA, C=US&quot; -keyalg RSA -keypass welcomeClient -storepass welcomeClient -keystore client.keystore</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The next step is <em>to export</em> the certificate from the server keystore to be able to import it in the client:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">keytool -keystore server.keystore -export -alias oracle-server -file server.cer</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can now <em>import the cerificate</em> in the client keystore:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">keytool -keystore client.keystore -import -file server.cer</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="generate-the-proxy"></a>Generate the proxy<a class="hash-link" href="#generate-the-proxy" title="Direct link to heading">#</a></h3><p>You have now the client certificate so you can use the Oracle Web
Service Assembler to generate the proxy. The only specific thing you
have to do is to specify which key store to use when running the tool.
The command to use when generating the proxy is:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">java -Djavax.net.ssl.trustStore=/Users/tgrall/ssl/client.keystore</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Djavax.net.ssl.keyStore=/Users/tgrall/ssl/client.keystore</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Djavax.net.ssl.trustStorePassword=welcomeClient</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    -Djavax.net.ssl.keyStorePassword=welcomeClient</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    -jar $ORACLE_HOME/webservices/lib/wsa.jar</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    -genProxy</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    -wsdl https://127.0.0.1:4443/math-service/MathServiceSoapHttpPort?WSDL</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="calling-the-service-using-secure-endpoint"></a>Calling the Service using secure endpoint<a class="hash-link" href="#calling-the-service-using-secure-endpoint" title="Direct link to heading">#</a></h3><p>Configure the Java Environment to use the client store is made using the following System properties:</p><ul><li>javax.net.ssl.trustStore</li><li>javax.net.ssl.keyStore</li><li>javax.net.ssl.trustStorePassword</li><li>javax.net.ssl.keyStorePassword</li></ul><p>This could be done using different approach, property file, -D command
line parameter or programmatically. To simply the example I am using
the programmatic approach, the following code is part of the main
method of the Client class:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">System.setProperty(&quot;javax.net.ssl.trustStore&quot;, &quot;/Users/tgrall/ssl/client.keystore&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">System.setProperty(&quot;javax.net.ssl.keyStore&quot;, &quot;/Users/tgrall/ssl/client.keystore&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;welcomeClient&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, &quot;welcomeClient&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">// Adding Debug information</span></span><span class="token-line" style="color:#393A34"><span class="token plain">System.setProperty(&quot;javax.net.debug&quot;, &quot;ssl&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>It is possible to change the Endpoint dynamically in the Proxy using the <code>setEndpoint</code> method.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">democlient.proxy.MathServiceSoapHttpPortClient myPort = new democlient.proxy.MathServiceSoapHttpPortClient();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">String ep = &quot;https://127.0.0.1:4443/math-service/MathServiceSoapHttpPort&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">myPort.setEndpoint(ep);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">System.out.println(&quot;Result of the operation is &quot;+ myPort.add(2,2));</span></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You should now be able to run the client and call the service using HTTPS. This would look like:</p><p><img src="http://static.flickr.com/86/268580831_c24ec07d89_o.png"></p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2006/10/12/come-to-oracle-open-world-and-watch-mr-spring-and-mr-apache-speak">Come to Oracle Open World and watch Mr Spring and Mr Apache speak</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2006-10-12T00:00:00.000Z" itemprop="datePublished">October 12, 2006</time> Â· One min read</div></header><div class="markdown" itemprop="articleBody"><p>Oracle Open World is getting very close... And I am very excited to go to lot of sessions, two of them looks very interesting in the Oracle Develop track:</p><ul><li>Rod Johnson - Spring Update: What&#x27;s New and Cool in Spring 2.0 (Monday 10/23/2006, 12:45 PM - 1:45 PM in the Hilton Hotel Grand Ballroom A)</li><li>Brian Behlendorf - Bringing Open Source Software Development Practices and Principles Into Your Company (Tuesday 10/24/2006, 1:15 PM - 2:15 PM in the Hilton Hotel Grand Ballroom A)</li></ul><p>This is quite exciting to have Open Source gurus coming to present to the Oracle conference, and explain how to use the new Spring in their projects or leverage Open Source practices to improve development in house... Take a look to the full program of Oracle Develop.</p><p>Start to use the Oracle OpenWorld Schedule Builder to organize your week in SF, if you have not registered yet for OOW click here.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2006/09/21/accessing-user-principal-in-a-web-service">Accessing User Principal in a Web Service</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2006-09-21T00:00:00.000Z" itemprop="datePublished">September 21, 2006</time> Â· 2 min read</div></header><div class="markdown" itemprop="articleBody"><p>WS-Security provides a standard way to secure Web Services. Since based on SOAP it is agnostic of the stack you are using. When using JAX-RPC implementation, you are running in a J2EE container. In this post I am giving a tip to access the Principal object.</p><p>I have a service service, and I need to access some user information in its implementation class ( <code>org.tug.ws.sample.SimpleServiceImpl</code> ). This service is secure with WS-Security, with for example simple authentication, the following screenshot, is the configuration of inbound security in OracleAS 10gR3:</p><p>![](<a href="http://static.flickr.com/92/248919057_ce2ba6a5f7_o.png" target="_blank" rel="noopener noreferrer">http://static.flickr.com/92/248919057_ce2ba6a5f7_o.png</a> Web Services Management )</p><p>So the service is secured, here theÂ code that you have to add in your service implementation (or handlers) to access the Principal object.</p><ol><li>Implement <a href="http://java.sun.com/j2ee/1.4/docs/api/javax/xml/rpc/server/ServiceLifecycle.html" target="_blank" rel="noopener noreferrer"><code>javax.xml.rpc.server.ServiceLifecycle</code></a></li><li>Implement the init(Object context) method to access
the <a href="http://java.sun.com/j2ee/1.4/docs/api/javax/xml/rpc/server/ServletEndpointContext.html" target="_blank" rel="noopener noreferrer"><code>ServletEndpointContext</code></a>,
that you can for example put as a local member of your implementation
class.</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">public void init(Object context) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  _servleContext = (ServletEndpointContext)context;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ol start="3"><li>Then you can access the principal object using the <code>getUserPrincipal()</code> method:</li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">if (_servleContext.getUserPrincipal() != null ) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  Principal userPrincipal = _servleContext.getUserPrincipal();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  ...</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can find more information about the Security in J2EE 1.4 Web Services in the <a href="http://java.sun.com/blueprints/guidelines/designing_webservices/html/security.html#1045527" target="_blank" rel="noopener noreferrer">Designing Web Services with the J2EE 1.4 Platform</a> tutorial.</p><hr><p><em>Update on Wednesday october 4th:</em> Frank Nimphius, has use this entry to create a more detail article about <a href="http://www.orablogs.com/fnimphius/archives/001815.html" target="_blank" rel="noopener noreferrer">End to End Security with Web Services Security</a>.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2006/09/16/choose-a-scripting-language-groovy-or-jruby">Choose a scripting language? Groovy or JRuby?</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2006-09-16T00:00:00.000Z" itemprop="datePublished">September 16, 2006</time> Â· One min read</div></header><div class="markdown" itemprop="articleBody"><p>Last week I discussed dynamic languages with some consultants. This discussion was done in the context of integration of scripting technologies into Java EE environment. So the integration to the VM is important, I also think that the learning curve is a thing to consider.</p><p>It is true that, like any developer Iike to learn things everyday, this is why I have done some development with PHP, with Ruby On Rails, and obviously with Groovy, Javascript and many other dynamic languages.</p><p>The discussion moved quickly to an argument about which language is the best... Hard to say, but I would expect that to be more productive in enterprise it is better to use a &quot;Java Like&quot; syntax that allows you to leverage the power of scripts. Based on this comment it is for me a no brainer to say that Groovy is more interesting to a core Java developer than JRuby (or other Jython, Jacl, ...). I do not even want to go in the details about VM integration, performances and so on...</p><p>So in this context, A. Sundararajan has posted <a href="http://blogs.sun.com/sundararajan/entry/java_groovy_and_j_ruby" target="_blank" rel="noopener noreferrer">a very interesting comparison of Java, Groovy and JRuby syntaxes</a>.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2006/05/11/more-groovy-at-javaone">More Groovy at Javaone !</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2006-05-11T00:00:00.000Z" itemprop="datePublished">May 11, 2006</time> Â· 2 min read</div></header><div class="markdown" itemprop="articleBody"><p><img src="http://groovy.codehaus.org/images/groovy-logo.png">
If like me you like scripting technologies and in particular Groovy and
Grails, JavaOne 2006 will be a very good moment to learn more about it.</p><p>Beside the official sessions listed below, I would like to inform you
of various events interesting for the Groovy community:</p><ul><li>Informal <strong>&quot;Groovy Community Meeting&amp;rdquo&quot;</strong>, <strong>Thursday night 5pm</strong> around the Oracle Demobooth where Guillaume, Graeme and Dierk will give you an
opportunity to learn more about these projects</li><li>Groovy presentations at the Oracle Booth in the pavilion</li></ul><p>The official sessions about Groovy and Grails are</p><table align="center"><tbody><tr align="center"><td align="center" nowrap="nowrap" width="15%">BOF-0554 </td><td align="left" width="45%">Dynamic Scripting Languages BOF </td><td align="center" width="15%">Â Tuesday 05/16/2006 10:30 PM - 11:20 PM </td><td align="center" width="15%"> Moscone Center Hall E 133 </td></tr><tr align="center"><td align="center" nowrap="nowrap" width="15%">BOF-2521 </td><td align="left" width="45%">Rapid Web Application Development With Grails </td><td align="center" width="15%">Â Thursday 05/18/2006 08:30 PM - 09:20 PM </td><td align="center" width="15%"> Moscone Center Esplanade 307-310 </td></tr><tr align="center"><td align="center" nowrap="nowrap" width="15%">TS-1246 </td><td align="left" width="45%">Simplify Enterprise Development With Scripting </td><td align="center" width="15%">Â Thursday 05/18/2006 11:00 AM - 12:00 PM </td><td align="center" width="15%"> Moscone Center Hall E 134 </td></tr><tr align="center"><td align="center" nowrap="nowrap" width="15%">TS-3273 </td><td align="left" width="45%">Groovy = Javaâ„¢ Technology+ Ruby + Python for the JVMâ„¢</td><td align="center" width="15%">Â Wednesday 05/17/2006 02:45 PM - 03:45 PM </td><td align="center" width="15%"> Moscone Center Gateway 104 </td></tr><tr align="center"><td align="center" nowrap="nowrap" width="15%">TS-3714 </td><td align="left" width="45%">Flash-Gridding with Javaâ„¢ Technology: Using Project Glassfish<small><sup>SM</sup></small>, Jiniâ„¢/JavaSpacesâ„¢, and Groovy as an Environment for an Open Source, Self-Assembling Supercomputer </td><td align="center" width="15%">Â Thursday 05/18/2006 02:45 PM - 03:45 PM </td><td align="center" width="15%"> Moscone Center Gateway 104 </td></tr><tr align="center"><td align="center" nowrap="nowrap" width="15%">TS-5386 </td><td align="left" width="45%">Groovy Goes RFID with Smart Sensors for Real-World Control </td><td align="center" width="15%">Â Tuesday 05/16/2006 05:45 PM - 06:45 PM </td><td align="center" width="15%"> Moscone Center Gateway 104 </td></tr></tbody></table></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2006/05/03/grails-on-oracle-oracleas-and-oraclexe">Grails on Oracle (OracleAS and OracleXE)</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2006-05-03T00:00:00.000Z" itemprop="datePublished">May 3, 2006</time> Â· 10 min read</div></header><div class="markdown" itemprop="articleBody"><p>OTN (Oracle Technology Network)
Readers have noticed, that Oracle has
published an article from <a href="http://www.monson-haefel.com/" target="_blank" rel="noopener noreferrer">Richard Monson-Haefel</a> about <a href="http://www.oracle.com/technology/pub/articles/haefel-oracle-ruby.html" target="_blank" rel="noopener noreferrer">Ruby On Rails on Oracle</a>. This
article introduces the Ruby On Rails framework and explains how to use
it to access an Oracle database. (<a href="http://www.oracle.com/technology/products/database/xe/index.html" target="_blank" rel="noopener noreferrer">Oracle 10g Express Edition</a> to be exact)</p><p>If you are not familiar at all with Ruby On Rails, it is important to
notice that it has nothing to do with Java, J2EE. It is a <a href="http://www.ruby-lang.org/" target="_blank" rel="noopener noreferrer">Ruby</a>
based framework. Â So yes Ruby On Rails is really interesting,
powerful and so on... but for me as a Java developer I would like to do
the same using Java (or equivalent) leveraging the investment that I
have done in J2EE; also important I want to be able to deploy and
manage applications that are developed this way using my tools such as
Oracle Enterprise Manager Application Server Control.</p><p>The paradigm &quot;coding by convention&quot; that is the driver of Ruby on Rails
has been leveraged to developed a new framework: GRAILS. Grails uses
Groovy as the underlying language, so it runs on a JVM and can leverage
any existing Java API.</p><p>If you are a Java developer you will find very interesting to use this
framework to accelerate the development of Web applications. If you are
not yet a Java developer but need to develop Web application faster,
and deploy the to your J2EE application server, Grails is also a very
good tools.</p><p>Since I have started with Richard&#x27;s article I will use the same
application/database schema to develop my first GRAILS application, and
also use the same structure in my article...(<em>is it what we call lazy loading?</em>)</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="what-is-groovy-what-is-grails"></a>What is Groovy? What is Grails?<a class="hash-link" href="#what-is-groovy-what-is-grails" title="Direct link to heading">#</a></h3><p>Groovy is a dynamic language that leverage features from other
languages such as Ruby, Jython, and Smalltalk. Groovy is running at the
top of a Java VM and makes available any existing Java objects (so all
the API) to Groovy. Groovy is currently under standardization with the <a href="http://www.jcp.org/en/jsr/detail?id=241" target="_blank" rel="noopener noreferrer">JSR-24</a><a href="http://www.jcp.org/en/jsr/detail?id=241" target="_blank" rel="noopener noreferrer">1</a>.
Â You can learn more about Groovy on the <a href="http://groovy.codehaus.org/" target="_blank" rel="noopener noreferrer">Groovy site</a> and is <a href="http://glaforge.free.fr/weblog/?catid=2" target="_blank" rel="noopener noreferrer">project leader&#x27;s (Guillaume Laforge) blog</a>.</p><p>GRAILS is to Groovy what Ruby On Rails is to Ruby. Originally named &quot;<em>Groovy On Rails</em>&quot;,
this name has been dropped in favor of Grails to avoid
confusion/competition. Like Ruby on Rails, Grails is designed to
create <a href="http://en.wikipedia.org/wiki/CRUD_%28acronym%29" target="_blank" rel="noopener noreferrer">CRUD</a>
(<em>Create Read Update Delete</em>) Web applications. Â You can learn more
about Grail on the <a href="http://grails.codehaus.org/" target="_blank" rel="noopener noreferrer">Grails site</a> and is <a href="http://graemerocher.blogspot.com/" target="_blank" rel="noopener noreferrer">project leader&#x27;s (Graeme Rocher) blog</a>.</p><p>Let&#x27;s now dive in the sample application, for this, as stated earlier I
am using the sample application described in the OTN articles.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="example-the-product-catalog"></a>Example: The product Catalog<a class="hash-link" href="#example-the-product-catalog" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="step-1-set-up-the-oracle-database"></a>Step 1: Set up the Oracle database<a class="hash-link" href="#step-1-set-up-the-oracle-database" title="Direct link to heading">#</a></h4><p>If you have not set up the schema and table from the article you just
need to create the following objects:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">CREATE TABLE comics (</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    id NUMBER(10) NOT NULL,</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    title VARCHAR2(60),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    issue NUMBER(4),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    publisher VARCHAR2(60),</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    PRIMARY KEY (id)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    );</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    CREATE SEQUENCE comics_seq;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Based on the OTN article I have created this table in the <span class="code">ruby</span> schema.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="step-2-install-grails"></a>Step 2: Install Grails<a class="hash-link" href="#step-2-install-grails" title="Direct link to heading">#</a></h4><p>Grails installation is straight forward and explained in the <a href="http://grails.codehaus.org/Installation" target="_blank" rel="noopener noreferrer">Installation guide</a>, basically:</p><ol><li>Download the binaries (I used <a href="http://build.canoo.com/grails/artifacts//grails-bin-0.2-SNAPSHOT.zip" target="_blank" rel="noopener noreferrer">Grails 0.2</a>)</li><li>Setup the different environment variable (<span class="code">GRAILS_HOME, JAVA_HOME, PATH</span>), I used Java 5.</li></ol><p>You are done !</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="step-3-create-the-web-application"></a>Step 3: create the Web Application<a class="hash-link" href="#step-3-create-the-web-application" title="Direct link to heading">#</a></h4><p>Now we have installed the product, the next step is to create the application itself.</p><p><strong>Create the application</strong></p><p>The <span class="code">create-app</span> command is
creating the full project, with the template
with placeholder for the different components of your application such
as configuration, MVC, and library and much more. To do it enter the
following command, in your command line interface:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; grails create-app</span></span><span class="token-line" style="color:#393A34"><span class="token plain">....</span></span><span class="token-line" style="color:#393A34"><span class="token plain">.....</span></span><span class="token-line" style="color:#393A34"><span class="token plain">create-app:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[input] Enter application name:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">comics_catalog</span></span><span class="token-line" style="color:#393A34"><span class="token plain">.....</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>As you will see, Grails uses Ant intensively, the <span class="code">create-app</span>
command will ask you for an application name, enter for example <span class="code">comics_catalog</span>.</p><p>The created application contains now a list of directory allowing
developer to start to build the application using Groovy, Grails and
any Web components.</p><p><strong><em>Add the Business Logic and Model:Domain Classes</em></strong></p><p>One of the biggest differences between Grails and RoR, is the fact that
the main components of your application development is not the Table
like you have in RubyOnRails but the &quot;Domain Class&quot;. Â The
domain class are the core of the business application, they contains
the state and the behavior of your application.</p><p>So the next step is to create a Domain Class for the Comics, to do that
you just need to go in the home directory of your project, eg cd <span class="code">comics_catalog</span> and run the <span class="code">create-domain-class</span>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; cd comics_catalog</span></span><span class="token-line" style="color:#393A34"><span class="token plain">&gt; grails create-domain-class</span></span><span class="token-line" style="color:#393A34"><span class="token plain">....</span></span><span class="token-line" style="color:#393A34"><span class="token plain">create-domain-class:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[input] Enter domain class name:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">comics</span></span><span class="token-line" style="color:#393A34"><span class="token plain">....</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>When the command ask you to enter the class name, enter <span class="code">comics</span>. Grails, will not use the
same naming convention that RoR has, so you need to use the same name
for the class and the table you want to map your object on. The
persistence layer is made using GROM (Grails Object Relational Mapping)
that leverage hibernate.</p><p>Note: In our case what we are doing is to leverage an existing database
object and create the domain class at the top of it. Usually, Grails
uses a different approach where everything is driven by the
application, so you create the domain class first and then Grails will
create the different database objects.</p><p>The Comics class does not have any information related to the mapping
itself, so you have to create the different attributes in the domain
class. This is where you you start to use Groovy, the domain class is
located in the following location:</p><ul><li><code>./comics_catalog/grails-app/domain/Comics.groovy</code></li></ul><p>Note hat by default Grails create the class with 2 attributes: id and
version, keep them in place, and add title, issue and
publisher.Â </p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">class Comics {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Property Long id</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Property Long version</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  // new properties for the Comics class</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Property String title</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Property Long issue</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Property String publisher</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  String toString() { &quot;${this.class.name} :  $id&quot; }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>We are all set, we are ready to run the magic command that will create the different screens and flow.</p><p><strong>Create the different screens from the domain class</strong></p><p>You can now run the <code>generate-all</code> command to create all the different screens.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">&gt; grails generate-all</span></span><span class="token-line" style="color:#393A34"><span class="token plain">....</span></span><span class="token-line" style="color:#393A34"><span class="token plain">input-domain-class:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">[input] Enter domain class name:</span></span><span class="token-line" style="color:#393A34"><span class="token plain">comics</span></span><span class="token-line" style="color:#393A34"><span class="token plain">....</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This command creates the different Views and Controllers, you can take a look to the directories:</p><ul><li><code>./comics_catalog/grails-app/controllers</code></li><li><code>./comics_catalog/grails-app/views</code></li></ul><p><strong>Configure the database access</strong></p><p>What we have to do is now to configure the application to use the Oracle database and schema.</p><p>Grails uses a configuration file for data source:</p><ul><li><code>./comics_catalog/grails-app/conf/ApplicationDataSource.groovy</code></li></ul><p>Let&#x27;s edit this file to connect to our Oracle database.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">class ApplicationDataSource {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Property boolean pooled = true</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Property String dbCreate = &quot;update&quot; // one of &#x27;create&#x27;, &#x27;create-drop&#x27;,&#x27;update&#x27;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Property String url = &quot;jdbc:oracle:thin:@localhost:1521:XE&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Property String driverClassName = &quot;oracle.jdbc.OracleDriver&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Property String username = &quot;ruby&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  @Property String password = &quot;ruby&quot;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Nothing special concerning the properties such as URL, DriverClassName,
username and password.</p><p>The one that is interesting is the <span class="code">dbCreate</span>,
that allows you to configure the behavior on the schema to create or
not objects.In our sample the table exists, so we want to reuse the
object, but we want to be sure that we have all the mandatory objects,
columns too, so I selected <span class="code">update</span>.</p><p>The next thing to do is to add the Oracle JDBC driver to the
application, to make it available. To make it available you just need
to copy the JDBC driver into the lib directory of your application. In
my case I am using Oracle XE so I copy the file from the following
location:</p><ul><li><code>ORACLE_XE_HOME/app/oracle/product/10.2.0/server/jdbc/lib/ojdbc14.jar</code>
to</li><li><code>./comics_catalog/lib/</code></li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="step-4-run-the-application"></a>Step 4: Run the application<a class="hash-link" href="#step-4-run-the-application" title="Direct link to heading">#</a></h4><p>Grails provide a way to run the application in stand alone mode, the command is <span class="code">run-app</span>. This command starts an Web container (based on Jetty) with the applicationÂ deployed.</p><p><code>grails run-app</code></p><p>Note: Jetty will start on port 8080, in order to start in on a different port like e.g. 9090 use:</p><p><code>grails -Dserver.port=9090 run-app</code></p><p>You can now access the application using the following URL:</p><p><code>http://localhost:8080/comics_catalog/comics/</code></p><p>Your browser should show the list of comics from the Comics table.</p><p><img src="http://static.flickr.com/45/127519247_646a991d3a_o.png"></p><p><em>List of Comics</em></p><p>You can create a new entry by clicking on the &quot;New Comics&quot; tab, and view/edit/delete existing record by clicking on the &quot;Show&quot; link.</p><p><img src="http://static.flickr.com/56/127519249_0e580ede98_o.png"></p><p><em>Edit/Create entry</em></p><p>As you see the creation of an application is really easy. The next step is to deploy the application in your application server.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor anchor__h4 anchorWithStickyNavbar_31ik" id="step-5-deploy-the-application"></a>Step 5: Deploy the application<a class="hash-link" href="#step-5-deploy-the-application" title="Direct link to heading">#</a></h4><p>Grails provides a command to package the application as a WAR ready to
be deployed, so in the root directory of your project you can run the
following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">grails war</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>When you run this command you end with a WAR with the name of your
application located in the root of your project, in our case: <code>comics_catalog.war</code></p><p>If you take a look to this WAR you&#x27;ll see that it is quite big ~10Mb,
this is because all the libraries are included in the Lib directory of
the web application. You can see the exact structure of the WAR in the
./tmp (<code>./comics_catalog/tmp/war</code>) directory of the application.</p><p>You can deploy the application as it is to Oracle Application Server 10<em>g</em>,
but to avoid the issue with the class loader you should configure the
Web application to load the local classes first. It can be done during
deployment with the class loader configuration screen:</p><p><img src="http://static.flickr.com/52/127519251_8a522dac17_o.png"></p><p>You can also save this configuration in a deployment plan to facilitate later deployment.</p><p>When the deployment is done you can access the application using the OracleAS host and port, something like:</p><p><code>http://localhost:8888/comics_catalog/comics/list</code></p><p>You can now administer and monitor the application like any other J2EE application deployed in OracleAS 10g.</p><p><em>Better Deployment Options</em></p><ul><li>I personally do not like the idea of shipping all the Jar
files in the WAR file, so instead you can use the OracleAS Shared
Libraries to create a Grails library by uploading and configuring all
the Jars. And package the War without all these libraries.</li><li>Also you should be able to configure Hibernate/Spring to
use a standard define Data source and use the JNDI name to lookup the
connections.</li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="conclusion"></a>Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h3><p>GRAILS like Ruby On Rails are really interesting frameworks allowing
developers to create quickly Web application that access relational
database and especially the Oracle Database.</p><p>Grails is quite new (release 0.2), but the documentation is really nice
and complete. I will encourage all developers that are interested by
such framework to use it and provide feedback to the development team.</p><p>I will try provide other post about deployment of Grails on OracleAS,
but also related to other interesting features of this framework, for
example Ajax support, Validations etc etc.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor anchor__h3 anchorWithStickyNavbar_31ik" id="resources"></a>Resources<a class="hash-link" href="#resources" title="Direct link to heading">#</a></h3><ul><li><a href="http://grails.codehaus.org/" target="_blank" rel="noopener noreferrer">Grails</a></li><li><a href="http://groovy.codehaus.org/" target="_blank" rel="noopener noreferrer">Groovy</a></li><li><a href="http://rubyonrails.org/" target="_blank" rel="noopener noreferrer">Ruby on Rails</a></li></ul></div></article><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/page/14"><div class="pagination-nav__label">Â« Newer Entries</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/page/16"><div class="pagination-nav__label">Older Entries Â»</div></a></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/tgrall" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/tugdualgrall/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/tgrall" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2003 - 2021 Tugdual Grall built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.69db4c69.js"></script>
<script src="/assets/js/main.174aeacd.js"></script>
</body>
</html>