<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Tug&#39;s Site Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Tug&#39;s Site Blog Atom Feed"><title data-react-helmet="true">Blog | Tug&#x27;s Site</title><meta data-react-helmet="true" property="og:title" content="Blog | Tug&#x27;s Site"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" name="description" content="Blog"><meta data-react-helmet="true" property="og:description" content="Blog"><meta data-react-helmet="true" property="og:url" content="https://tgrall.github.io/blog/page/23"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="blog_posts_list"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://tgrall.github.io/blog/page/23"><link data-react-helmet="true" rel="alternate" href="https://tgrall.github.io/blog/page/23" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://tgrall.github.io/blog/page/23" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.acbe81c6.css">
<link rel="preload" href="/assets/js/runtime~main.69db4c69.js" as="script">
<link rel="preload" href="/assets/js/main.174aeacd.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Tug&#x27;s Site</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a class="navbar__item navbar__link" href="/talks">Talks</a></div><div class="navbar__items navbar__items--right"><a href="https://windr.org" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Windsurfing App<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/tgrall/tgrall.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-list-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_2ahu thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_2hhb margin-bottom--md">Recent posts</div><ul class="sidebarItemList_2xAf"><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2020/05/16/simple-caching-service-with-redis">Simple caching service with Redis</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2020/01/02/how-to-use-ssl-slash-tls-with-redis-enterprise">How to use SSL/TLS with Redis Enterprise</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2019/09/19/redis-rolling-upgrade-on-pivotal-cloud-foundry-pcf">Redis Rolling Upgrade on Pivotal Cloud Foundry (PCF)</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2019/09/04/multi-nodes-redis-cluster-with-docker">Multi-Nodes Redis Cluster with Docker</a></li><li class="sidebarItem_2UVv"><a class="sidebarItemLink_1RT6" href="/blog/2019/09/02/getting-with-redis-streams-and-java">Getting Started with Redis Streams and Java</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2004/11/08/html-javascript-tip-refreshing-an-image-not-the-full-page">HTML/Javascript tip: Refreshing an image not the full page</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2004-11-08T00:00:00.000Z" itemprop="datePublished">November 8, 2004</time> Â· One min read</div></header><div class="markdown" itemprop="articleBody"><p>I was discussing with a friend about the creation of a monitoring dashboard in HTML. As any monitoring tool you want to be able to see the information in <em>real-time</em>, so you need to refresh the content....</p><p>One way of doing it is to refresh the whole page and this is easy, just use the meta tag:
<code>&lt;META HTTP-EQUIV=&quot;Refresh&quot; CONTENT=&quot;5; URL=http://www.grallandco.com/&quot; &gt;</code>
where 5 is the number of seconds between each refresh.</p><p>Javascript allows you to easily refresh a specific image of your page (a chart for example):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly html"><pre tabindex="0" class="prism-code language-html codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">img</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">src</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">myChartServlet</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">name</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">chart1</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">/&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">script</span><span class="token tag" style="color:#00009f"> </span><span class="token tag attr-name" style="color:#00a4db">language</span><span class="token tag attr-value punctuation attr-equals" style="color:#393A34">=</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag attr-value" style="color:#e3116c">JavaScript</span><span class="token tag attr-value punctuation" style="color:#393A34">&quot;</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token script language-javascript"></span></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript keyword" style="color:#00009f">function</span><span class="token script language-javascript"> </span><span class="token script language-javascript function" style="color:#d73a49">loadImage</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword" style="color:#00009f">var</span><span class="token script language-javascript"> now </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript keyword" style="color:#00009f">new</span><span class="token script language-javascript"> </span><span class="token script language-javascript class-name">Date</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript keyword control-flow" style="color:#00009f">if</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">images</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript"> </span><span class="token script language-javascript punctuation" style="color:#393A34">{</span><span class="token script language-javascript"></span></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">      </span><span class="token script language-javascript dom variable" style="color:#36acaa">document</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">images</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">chart1</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript property-access">src</span><span class="token script language-javascript"> </span><span class="token script language-javascript operator" style="color:#393A34">=</span><span class="token script language-javascript"> </span><span class="token script language-javascript string" style="color:#e3116c">&#x27;myChartServlet?time=&#x27;</span><span class="token script language-javascript operator" style="color:#393A34">+</span><span class="token script language-javascript">now</span><span class="token script language-javascript punctuation" style="color:#393A34">.</span><span class="token script language-javascript method function property-access" style="color:#d73a49">getTime</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"> </span><span class="token script language-javascript comment" style="color:#999988;font-style:italic">// add the time to avoid caching</span><span class="token script language-javascript"></span></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">    </span><span class="token script language-javascript function" style="color:#d73a49">setTimeout</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;loadImage()&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript number" style="color:#36acaa">1000</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript punctuation" style="color:#393A34">}</span><span class="token script language-javascript"></span></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript">  </span><span class="token script language-javascript function" style="color:#d73a49">setTimeout</span><span class="token script language-javascript punctuation" style="color:#393A34">(</span><span class="token script language-javascript string" style="color:#e3116c">&#x27;loadImage()&#x27;</span><span class="token script language-javascript punctuation" style="color:#393A34">,</span><span class="token script language-javascript number" style="color:#36acaa">1000</span><span class="token script language-javascript punctuation" style="color:#393A34">)</span><span class="token script language-javascript punctuation" style="color:#393A34">;</span><span class="token script language-javascript"></span></span><span class="token-line" style="color:#393A34"><span class="token script language-javascript"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">script</span><span class="token tag punctuation" style="color:#393A34">&gt;</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>You can obviously make the whole think dynamic and configurable...</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2004/10/31/first-contact-with-oracle-database-xe">First contact with Oracle Database XE</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2004-10-31T00:00:00.000Z" itemprop="datePublished">October 31, 2004</time> Â· 2 min read</div></header><div class="markdown" itemprop="articleBody"><p>Oracle Database 10g Express Edition Beta Release is now available for download, from OTN:</p><ul><li><a href="http://www.oracle.com/technology/software/products/database/xe/index.html" target="_blank" rel="noopener noreferrer">Oracle 10g Express Edition (Oracle Database XE)</a>.</li></ul></div><footer class="row docusaurus-mt-lg"><div class="col col--3 text--right"><a aria-label="Read more about First contact with Oracle Database XE" href="/blog/2004/10/31/first-contact-with-oracle-database-xe"><b>Read More</b></a></div></footer></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2004/10/28/oracle-application-server-oc4j-certification">Oracle Application Server and OC4J Certification</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2004-10-28T00:00:00.000Z" itemprop="datePublished">October 28, 2004</time> Â· One min read</div></header><div class="markdown" itemprop="articleBody"><p>If you ask yourself on which Operating Systems, JDK, Browser, etc... you can use Oracle Application Server 10g just consult OTN or <a href="http://metalink.oracle.com/" target="_blank" rel="noopener noreferrer">Oracle Metalink</a>:</p><ul><li><a href="http://www.oracle.com/technology/software/products/ias/files/as-certification-904.html" target="_blank" rel="noopener noreferrer">OTN Oracle Application Server 10g (9.0.4) Certification Matrix</a></li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2004/10/26/mike-keith-about-java2-5-dot-0-annotations">Mike Keith about Java2 5.0 Annotations</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2004-10-26T00:00:00.000Z" itemprop="datePublished">October 26, 2004</time> Â· One min read</div></header><div class="markdown" itemprop="articleBody"><p>Mike Keith,architect for Oracle Containers for J2EE (OC4J) and TopLink products and currently represents Oracle in the EJB 3.0 expert group, has published an interesting article about Annotations in Java 5.0:.</p><p><a href="http://www.oracle.com/technology/pub/articles/annotations_xml.html" target="_blank" rel="noopener noreferrer">To Annotate or Not?</a> focused on the usage of Annotation or XML as metadata language. Mike provides sample code and explain the pros and cons of the annotation using use cases.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2004/10/07/new-dynamic-menu-for-oracleas-portal-10g">New Dynamic Menu for OracleAS Portal 10g</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2004-10-07T00:00:00.000Z" itemprop="datePublished">October 7, 2004</time> Â· One min read</div></header><div class="markdown" itemprop="articleBody"><p>Ronaldo Viscuso has just released a new version of his DHTML Menu Portlet. This portlet generates a DHTML menu for site navigation, with links to pages and subpages from a selected page group.</p><p>Stylesheet, height, width, mouse-over behavior, etc. are all configurable via the &quot;Edit Defaults&quot; page, which allows for complete customization for pretty much any desired look &amp; feel....</p><p>The portlet, screen shots and installation document are available on the <a href="http://portalstudio.oracle.com/pls/ops/opstudio.wwv_main.main?p_siteid=233&amp;p_cornerid=497710" target="_blank" rel="noopener noreferrer">Portal Knowledge Exchange</a>.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2004/10/06/jive-portlets-for-oracleas-portal">Jive portlets for OracleAS Portal</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2004-10-06T00:00:00.000Z" itemprop="datePublished">October 6, 2004</time> Â· One min read</div></header><div class="markdown" itemprop="articleBody"><p>An Oracle Application Server (OracleAS) Provider for <a href="http://www.jivesoftware.com/products/forums/" target="_blank" rel="noopener noreferrer">Jive Forums</a> is now available to download from the <a href="http://www.oracle.com/technology/products/ias/portal/point_downloads.html#op4j" target="_blank" rel="noopener noreferrer">Portal Integration Solutions</a> page on OTN.</p><p>The Oracle Application Server (OracleAS) Provider for Jive Forums contains portlets that allow users and administrators to:</p><ul><li>View topics posted on their favorite forums</li><li>Create a new topic or post a reply to one</li><li>Search the forums</li><li>View the hot topics across all forums</li><li>View all topics, forums, categories and users being watched by the user</li><li>View top reward points earners</li><li>Administer the Jive Forums Application</li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2004/10/06/looking-for-articles-use-javapro-magazine-collection">Looking for articles: use JavaPro magazine collection</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2004-10-06T00:00:00.000Z" itemprop="datePublished">October 6, 2004</time> Â· One min read</div></header><div class="markdown" itemprop="articleBody"><p>You are looking for a articles about J2EE, <a href="http://www.ftponline.com/javapro/" target="_blank" rel="noopener noreferrer">JavaPro magazine</a> put online a nice tool to search and view all the published articles:</p><ul><li><a href="http://www.ftponline.com/resources/spcollections/j2ee/" target="_blank" rel="noopener noreferrer">J2EE</a></li><li><a href="http://www.ftponline.com/resources/spcollections/webservices/" target="_blank" rel="noopener noreferrer">Web Services</a></li><li>...</li></ul></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2004/10/04/groovy">Groovy, Java&#x27;s New Scripting Language</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2004-10-04T00:00:00.000Z" itemprop="datePublished">October 4, 2004</time> Â· One min read</div></header><div class="markdown" itemprop="articleBody"><p><a href="http://www.onjava.com/pub/a/onjava/2004/09/29/groovy.html" target="_blank" rel="noopener noreferrer">Groovy, Java&#x27;s New Scripting Language</a> by Ian F. Darwin -- When some Java developers hear about Groovy, their first reaction is often, &quot;Oh, no, not another scripting language for Java.&quot; Ian Darwin had the same reaction, until he took a good look at Groovy.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2004/10/03/good-taste-tool-del-dot-icio-dot-us">Good taste tool: del.icio.us</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2004-10-03T00:00:00.000Z" itemprop="datePublished">October 3, 2004</time> Â· One min read</div></header><div class="markdown" itemprop="articleBody"><p>I am starting to use <a href="http://del.icio.us/" target="_blank" rel="noopener noreferrer">del.icio.us</a>. A great way to manage your own bookmarks but also to share them with others...</p><p>It is fun to see how many people are sharing the same bookmarks as you, and help you to find information related to the different categories...</p><p>Also the integration with Firefox using the <a href="http://delicious.mozdev.org/" target="_blank" rel="noopener noreferrer">delicious plugin</a> make the usage of the bookmark manager very easy. You can also use the <a href="http://www.scifihifi.com/cocoalicious/" target="_blank" rel="noopener noreferrer">Apple Mac OS X client for del.icio.us</a>.</p><p><a href="http://del.icio.us/tgrall" target="_blank" rel="noopener noreferrer">Here my bookmarks... still working on it</a>.</p></div></article><article class="margin-bottom--xl" itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h2 class="blogPostTitle_GeHD" itemprop="headline"><a itemprop="url" href="/blog/2004/10/01/sample-code-blob-insertion-in-oracle10g">Sample Code: BLOB insertion in Oracle10g</a></h2><div class="blogPostData_291c margin-vert--md"><time datetime="2004-10-01T00:00:00.000Z" itemprop="datePublished">October 1, 2004</time> Â· 3 min read</div></header><div class="markdown" itemprop="articleBody"><p>Responding to a customer question about Blob insertion in Oracle 10g DB using the JDBC 3.0 driver. Very Simple application. <a href="http://www.grallandco.com/blog/archives/BlobOracle.java" target="_blank" rel="noopener noreferrer">Download Java Source</a> See insertBlob method.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><pre tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">package demo;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.sql.*;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.io.*;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.sql.PreparedStatement;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import java.util.*;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import oracle.jdbc.driver.*;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">import oracle.sql.BLOB;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">/**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">* Insert record in the MEDIA table</span></span><span class="token-line" style="color:#393A34"><span class="token plain">*   MEDIA (file_name varchar2(256), file_content BLOB);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">*/</span></span><span class="token-line" style="color:#393A34"><span class="token plain">public class BlobOracle</span></span><span class="token-line" style="color:#393A34"><span class="token plain">{</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private final static String hostname = &quot;localhost&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private final static String port = &quot;1521&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private final static String sid = &quot;ORCL&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private final static String username = &quot;scott&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private final static String password = &quot;tiger&quot;;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private static String fileLocation;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  private static Connection connection;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  public BlobOracle()</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  /**</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  *</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  * @param args</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  */</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  public static void main(String[] args)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    try</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      if (args.length == 0)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.println(&quot;\n\n  Usage demo.BlobOracle &quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.exit(0);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      fileLocation = args[0];</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      setConnection();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      insertBLOB();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    } catch (Exception ex)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      ex.printStackTrace();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      } finally</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static void setConnection() throws SQLException</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      DriverManager.registerDriver(new oracle.jdbc.driver.OracleDriver());</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@&quot;+hostname+ &quot;:&quot;+ port +&quot;:&quot;+ sid , username , password);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      connection.setAutoCommit(false); // we must control the commit</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    private static void insertBLOB() throws SQLException, Exception</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      BLOB blob;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      File file ;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      FileInputStream is;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      OutputStream os;</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      long ts1 = System.currentTimeMillis();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      //Create a statement.</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      PreparedStatement pstmt = connection.prepareStatement(&quot;insert into media (file_name, file_content) values (?,empty_blob())&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      file = new File(fileLocation);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      String fileName = file.getName();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      //Set the file name and execute the query</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      pstmt.setString(1, fileName);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      pstmt.execute();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      //Take back the record for update (we will insert the blob)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      //supposely the file name is the PK</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      pstmt = connection.prepareStatement(&quot;select file_content from media where file_name = ? for update&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      pstmt.setString(1, fileName);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      //Execute the query, and we must have one record so take it</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      ResultSet rset = pstmt.executeQuery();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      rset.next();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      //Use the OracleDriver resultset, we take the blob locator</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      blob = ((OracleResultSet)rset).getBLOB(&quot;file_content&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      is = new FileInputStream(file); //Create a stream from the file</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      // JDBC 2.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      //os = blob.getBinaryOutputStream(); //get the output stream from the Blob to insert it</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      // JDBC 3.0</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      os = blob.setBinaryStream(0); //get the output stream from the Blob to insert it</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      //Read the file by chuncks and insert them in the Blob. The chunk size come from the blob</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      byte[] chunk = new byte[blob.getChunkSize()];</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      int i=-1;</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      System.out.println(&quot;Inserting the Blob&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      while((i = is.read(chunk))!=-1)</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        os.write(chunk,0,i); //Write the chunk</span></span><span class="token-line" style="color:#393A34"><span class="token plain">        System.out.print(&#x27;.&#x27;); // print progression</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      // When done close the streams</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      is.close();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      os.close();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      //Close the statement and commit</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      pstmt.close();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      long ts2 = System.currentTimeMillis();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      connection.commit();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      connection.close();</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">      System.out.println(&quot;\n&quot;+ (ts2 - ts1) +&quot; ms&quot; );</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></article><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/page/22"><div class="pagination-nav__label">Â« Newer Entries</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/page/24"><div class="pagination-nav__label">Older Entries Â»</div></a></div></nav></main></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/tgrall" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/tugdualgrall/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/tgrall" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2003 - 2021 Tugdual Grall built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.69db4c69.js"></script>
<script src="/assets/js/main.174aeacd.js"></script>
</body>
</html>