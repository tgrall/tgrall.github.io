"use strict";(self.webpackChunktgrall_blog=self.webpackChunktgrall_blog||[]).push([[95470],{3905:function(e,t,n){n.d(t,{Zo:function(){return s},kt:function(){return d}});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),p=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},s=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,i=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),h=p(n),d=o,m=h["".concat(c,".").concat(d)]||h[d]||u[d]||i;return n?r.createElement(m,a(a({ref:t},s),{},{components:n})):r.createElement(m,a({ref:t},s))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var i=n.length,a=new Array(i);a[0]=h;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var p=2;p<i;p++)a[p]=n[p];return r.createElement.apply(null,a)}return r.createElement.apply(null,n)}h.displayName="MDXCreateElement"},21396:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return p},assets:function(){return s},toc:function(){return u},default:function(){return d}});var r=n(87462),o=n(63366),i=(n(67294),n(3905)),a=["components"],l={title:"JAX-WS: How to configure the service end point at runtime?",categories:null},c=void 0,p={permalink:"/blog/2009/02/17/jax-ws-how-to-configure-the-service-end-point-at-runtime",editUrl:"https://github.dev/tgrall/tgrall.github.io/blob/main/blog/2009-02-17-jax-ws-how-to-configure-the-service-end-point-at-runtime.md",source:"@site/blog/2009-02-17-jax-ws-how-to-configure-the-service-end-point-at-runtime.md",title:"JAX-WS: How to configure the service end point at runtime?",description:"When deploying your Web Service client you often need to change the endpoint of the service that &nbsp;has been set during the code generation. This short post explains how you can set change it at runtime in the client code.",date:"2009-02-17T00:00:00.000Z",formattedDate:"February 17, 2009",tags:[],readingTime:1.28,truncated:!1,authors:[],prevItem:{title:"Conference season for eXo Platform in Paris",permalink:"/blog/2009/03/30/conference-season-for-exo-platform-in-paris"},nextItem:{title:"Interest of Enterprise Portals",permalink:"/blog/2009/02/10/interest-of-enterprise-portals"}},s={authorsImageUrls:[]},u=[{value:"Use the Binding Provider to set the endpoint URL",id:"use-the-binding-provider-to-set-the-endpoint-url",children:[]},{value:"Use the WSDL to get the endpoint URL",id:"use-the-wsdl-to-get-the-endpoint-url",children:[]}],h={toc:u};function d(e){var t=e.components,n=(0,o.Z)(e,a);return(0,i.kt)("wrapper",(0,r.Z)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"When deploying your Web Service client you often need to change the endpoint of the service that ","\xa0","has been set during the code generation. This short post explains how you can set change it at runtime in the client code."),(0,i.kt)("p",null,"You have two approaches to do that:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"set the endpoint in the ",(0,i.kt)("inlineCode",{parentName:"li"},"Port")," using the ",(0,i.kt)("inlineCode",{parentName:"li"},"BindingProvider")),(0,i.kt)("li",{parentName:"ul"},"get the endpoint ",(0,i.kt)("inlineCode",{parentName:"li"},"URL")," from the WSDL itself at runtime")),(0,i.kt)("h3",{id:"use-the-binding-provider-to-set-the-endpoint-url"},"Use the Binding Provider to set the endpoint URL"),(0,i.kt)("p",null,"The first approach is to change the\nBindingProvider.ENDPOINT_ADDRESS_PROPERTY property value of the\nBindingProvider (Port) using the following code:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'try {\n  EmployeeServiceService service = new EmployeeServiceService();\n  EmployeeService port = service.getEmployeeServicePort();\n\n  BindingProvider bp = (BindingProvider)port;\n  bp.getRequestContext().put(BindingProvider.ENDPOINT_ADDRESS_PROPERTY, "http://server1.grallandco.com:8282/HumanRessources/EmployeeServiceService");\n\n  Employee emp = port.getEmployee(123);\n\n  System.out.println("Result = "+ emp);\n} catch (Exception ex) {...}\n')),(0,i.kt)("h3",{id:"use-the-wsdl-to-get-the-endpoint-url"},"Use the WSDL to get the endpoint URL"),(0,i.kt)("p",null,"Another part is to set the WSDL when you are creating the Service. The\nservice will be using the value that is located in the WSDL port -SOAP\nEndpoint-. This is simply done using the following code:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-java"},'try {\n  EmployeeServiceService service =\n  new org.demo.service.EmployeeServiceService\n  (new URL("http://server1.grallandco.com:8282/HumanRessources/EmployeeServiceService?wsdl"),\n  new QName("http://service.demo.org/","EmployeeServiceService"));\n\n  EmployeeService port = service.getEmployeeServicePort();\n  Employee emp = port.getEmployee(123);\n\n  System.out.println("Result = "+ emp);\n} catch (Exception ex) { ... }\n')),(0,i.kt)("p",null,"Note that, in Glassfish, like lot of Web Service environments the WSDL can generate dynamically the Endpoint URL based on the URL used\n","\xa0","to get the WSDL. With this approach you can also dynamically\nchange the Soap endpoint. (If compatible with the network configuration\nof the production environment.)"))}d.isMDXComponent=!0}}]);