(self.webpackChunktgrall_blog=self.webpackChunktgrall_blog||[]).push([[5700],{3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return s},kt:function(){return d}});var r=n(67294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),u=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),m=u(n),d=o,h=m["".concat(c,".").concat(d)]||m[d]||p[d]||a;return n?r.createElement(h,i(i({ref:t},s),{},{components:n})):r.createElement(h,i({ref:t},s))}));function d(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=m;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:o,i[1]=l;for(var u=2;u<a;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},47908:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return l},contentTitle:function(){return c},metadata:function(){return u},assets:function(){return s},toc:function(){return p},default:function(){return d}});var r=n(22122),o=n(19756),a=(n(67294),n(3905)),i=["components"],l={title:"VirtualBox: How to clone a virtual machine?",categories:null},c=void 0,u={permalink:"/blog/2010/02/24/virtualbox-how-to-clone-a-virtual-machine",editUrl:"https://github.dev/tgrall/tgrall.github.io/blob/main/blog/2010-02-24-virtualbox-how-to-clone-a-virtual-machine.md",source:"@site/blog/2010-02-24-virtualbox-how-to-clone-a-virtual-machine.md",title:"VirtualBox: How to clone a virtual machine?",description:"During some testing I had to put in place a cluster on my network. So I create a first virtual machine. It is not possible to directly copy the Virtual Disk Image (.vdi). VirtualBox saved in each disk image a UUID that is also store inside the virtual machine image. VirtualBox does not support two images with the same number. So to clone the an image you need to use the VBoxManage clonehd command line.",date:"2010-02-24T00:00:00.000Z",formattedDate:"February 24, 2010",tags:[],readingTime:.935,truncated:!1,authors:[],prevItem:{title:"Create and Deploy a JAX-RS REST service on Google App Engine",permalink:"/blog/2010/02/28/create-and-deploy-a-jax-rs-rest-service-on-google-app-engine"},nextItem:{title:"NantesJUG: Next Meeting Friday November 13th about 'Google Technologies'",permalink:"/blog/2009/11/08/nantesjug-next-meeting-friday-november-13th-about-google-technologies"}},s={authorsImageUrls:[]},p=[],m={toc:p};function d(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"During some testing I had to put in place a cluster on my network. So I create a first virtual machine. It is not possible to directly copy the Virtual Disk Image (.vdi). VirtualBox saved in each disk image a UUID that is also store inside the virtual machine image. VirtualBox does not support two images with the same number. So to clone the an image you need to use the ",(0,a.kt)("inlineCode",{parentName:"p"},"VBoxManage clonehd")," command line."),(0,a.kt)("p",null,"The clonehd command copy the VDI file and assigns a new UUID into it."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-Bash"},"VBoxManage  clonehd /opt/tools/vm/vm1-rhel.vdi  /opt/tools/vm/vm2-rhel.vdi\n")),(0,a.kt)("p",null,"Once the copy is done, you can now register this new VDI in your VirtualBox environment and create a new virtual machine."),(0,a.kt)("p",null,"Note: I am running VirtualBox on MacOS X, and I needed to put complete path to VDI files, if not the command id not working"),(0,a.kt)("p",null,(0,a.kt)("em",{parentName:"p"},"Alternative approach")),(0,a.kt)("p",null,"Initially I had issue with the clonehd command since I was not using full path. So what you can do is:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"cp vm1-rhel.vdi vm2-rhel.vdi\nVBoxManage internalcommands sethduuid vm2-rhel.vdi\n")),(0,a.kt)("p",null,"You can now add the new VDI to your VirtualBox environment."))}d.isMDXComponent=!0}}]);